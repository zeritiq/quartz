---
tags:
  - inbox
  - linux
  - archlinux
sr-due: 2025-05-09
sr-interval: 201
sr-ease: 303
created: 2024-08-25T02:56:19+03:00
modified: 2024-10-20T11:43:18+03:00
publish: true
---
**systemctl** - это утилита по управлению сервисами в [[systemd]].
### Основные команды
#### Ставим сервис в автозапуск

```sh
sudo systemctl enable <service>
```

#### Ставим сервис в автозапуск и запускаем

```sh
sudo systemctl enable --now <service>
```

#### Убираем сервис из автозапуска

```sh
sudo systemctl disable <service>
```
#### Запускаем сервис

```sh
sudo systemctl start <service>
```

#### Перезапускаем сервис

```sh
sudo systemctl restart <service>
```

#### Останавливаем сервис

```sh
sudo systemctl stop <service>
```

#### Создаем маску сервиса

```sh
sudo systemctl mask <service>
```

Нужно для того, чтобы исключить возможность включение сервиса.

#### Снимаем маску сервиса

```sh
sudo systemctl unmask <service>
```

### Какие есть особенности контекста выполнения

Если сервис запускается с именем:

```sh
sudo systemctl <command> <service>@<username>
```

То это значит, что сервис работает с каталогом и данными конкретного пользователя.

Чтобы сервис выполнялся от имени другого пользователя требуется выполнить команду с `sudo`. 

Если это текущий пользователь, то `sudo` требуется только если для работы сервиса требуются права суперпользователя.

В противном случае можно выполнить команду с атрибутом `--user` и без указания имени пользователя, так как уже подразумевается, что команда выполняется в контексе текущего пользователя:

```sh
systemctl --user <command> <service>
```